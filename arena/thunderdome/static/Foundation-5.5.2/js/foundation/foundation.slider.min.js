(function(c,b,a,d){Foundation.libs.slider={name:"slider",version:"5.5.2",settings:{start:0,end:100,step:1,precision:null,initial:null,display_selector:"",vertical:false,trigger_input_change:false,on_change:function(){}},cache:{},init:function(f,g,e){Foundation.inherit(this,"throttle");this.bindings(g,e);this.reflow()},events:function(){var e=this;c(this.scope).off(".slider").on("mousedown.fndtn.slider touchstart.fndtn.slider pointerdown.fndtn.slider","["+e.attr_name()+"]:not(.disabled, [disabled]) .range-slider-handle",function(f){if(!e.cache.active){f.preventDefault();e.set_active_slider(c(f.target))}}).on("mousemove.fndtn.slider touchmove.fndtn.slider pointermove.fndtn.slider",function(g){if(!!e.cache.active){g.preventDefault();if(c.data(e.cache.active[0],"settings").vertical){var f=0;if(!g.pageY){f=b.scrollY}e.calculate_position(e.cache.active,e.get_cursor_position(g,"y")+f)}else{e.calculate_position(e.cache.active,e.get_cursor_position(g,"x"))}}}).on("mouseup.fndtn.slider touchend.fndtn.slider pointerup.fndtn.slider",function(f){e.remove_active_slider()}).on("change.fndtn.slider",function(f){e.settings.on_change()});e.S(b).on("resize.fndtn.slider",e.throttle(function(f){e.reflow()},300));this.S("["+this.attr_name()+"]").each(function(){var g=c(this),h=g.children(".range-slider-handle")[0],f=e.initialize_settings(h);if(f.display_selector!=""){c(f.display_selector).each(function(){if(this.hasOwnProperty("value")){c(this).change(function(){g.foundation("slider","set_value",c(this).val())})}})}})},get_cursor_position:function(i,h){var j="page"+h.toUpperCase(),g="client"+h.toUpperCase(),f;if(typeof i[j]!=="undefined"){f=i[j]}else{if(typeof i.originalEvent[g]!=="undefined"){f=i.originalEvent[g]}else{if(i.originalEvent.touches&&i.originalEvent.touches[0]&&typeof i.originalEvent.touches[0][g]!=="undefined"){f=i.originalEvent.touches[0][g]}else{if(i.currentPoint&&typeof i.currentPoint[h]!=="undefined"){f=i.currentPoint[h]}}}}return f},set_active_slider:function(e){this.cache.active=e},remove_active_slider:function(){this.cache.active=null},calculate_position:function(l,j){var f=this,h=c.data(l[0],"settings"),g=c.data(l[0],"handle_l"),e=c.data(l[0],"handle_o"),k=c.data(l[0],"bar_l"),i=c.data(l[0],"bar_o");requestAnimationFrame(function(){var n;if(Foundation.rtl&&!h.vertical){n=f.limit_to(((i+k-j)/k),0,1)}else{n=f.limit_to(((j-i)/k),0,1)}n=h.vertical?1-n:n;var m=f.normalized_value(n,h.start,h.end,h.step,h.precision);f.set_ui(l,m)})},set_ui:function(f,m){var i=c.data(f[0],"settings"),g=c.data(f[0],"handle_l"),h=c.data(f[0],"bar_l"),n=this.normalized_percentage(m,i.start,i.end),l=n*(h-g)-1,j=n*100,e=f.parent(),k=f.parent().children("input[type=hidden]");if(Foundation.rtl&&!i.vertical){l=-l}l=i.vertical?-l+h-g+1:l;this.set_translate(f,l,i.vertical);if(i.vertical){f.siblings(".range-slider-active-segment").css("height",j+"%")}else{f.siblings(".range-slider-active-segment").css("width",j+"%")}e.attr(this.attr_name(),m).trigger("change.fndtn.slider");k.val(m);if(i.trigger_input_change){k.trigger("change.fndtn.slider")}if(!f[0].hasAttribute("aria-valuemin")){f.attr({"aria-valuemin":i.start,"aria-valuemax":i.end})}f.attr("aria-valuenow",m);if(i.display_selector!=""){c(i.display_selector).each(function(){if(this.hasAttribute("value")){c(this).val(m)}else{c(this).text(m)}})}},normalized_percentage:function(f,g,e){return Math.min(1,(f-g)/(e-g))},normalized_value:function(f,e,h,g,j){var i=h-e,l=f*i,k=(l-(l%g))/g,m=l%g,n=(m>=g*0.5?g:0);return((k*g+n)+e).toFixed(j)},set_translate:function(f,g,e){if(e){c(f).css("-webkit-transform","translateY("+g+"px)").css("-moz-transform","translateY("+g+"px)").css("-ms-transform","translateY("+g+"px)").css("-o-transform","translateY("+g+"px)").css("transform","translateY("+g+"px)")}else{c(f).css("-webkit-transform","translateX("+g+"px)").css("-moz-transform","translateX("+g+"px)").css("-ms-transform","translateX("+g+"px)").css("-o-transform","translateX("+g+"px)").css("transform","translateX("+g+"px)")}},limit_to:function(g,f,e){return Math.min(Math.max(g,f),e)},initialize_settings:function(g){var f=c.extend({},this.settings,this.data_options(c(g).parent())),e;if(f.precision===null){e=(""+f.step).match(/\.([\d]*)/);f.precision=e&&e[1]?e[1].length:0}if(f.vertical){c.data(g,"bar_o",c(g).parent().offset().top);c.data(g,"bar_l",c(g).parent().outerHeight());c.data(g,"handle_o",c(g).offset().top);c.data(g,"handle_l",c(g).outerHeight())}else{c.data(g,"bar_o",c(g).parent().offset().left);c.data(g,"bar_l",c(g).parent().outerWidth());c.data(g,"handle_o",c(g).offset().left);c.data(g,"handle_l",c(g).outerWidth())}c.data(g,"bar",c(g).parent());return c.data(g,"settings",f)},set_initial_position:function(g){var f=c.data(g.children(".range-slider-handle")[0],"settings"),e=((typeof f.initial=="number"&&!isNaN(f.initial))?f.initial:Math.floor((f.end-f.start)*0.5/f.step)*f.step+f.start),h=g.children(".range-slider-handle");this.set_ui(h,e)},set_value:function(f){var e=this;c("["+e.attr_name()+"]",this.scope).each(function(){c(this).attr(e.attr_name(),f)});if(!!c(this.scope).attr(e.attr_name())){c(this.scope).attr(e.attr_name(),f)}e.reflow()},reflow:function(){var e=this;e.S("["+this.attr_name()+"]").each(function(){var f=c(this).children(".range-slider-handle")[0],g=c(this).attr(e.attr_name());e.initialize_settings(f);if(g){e.set_ui(c(f),parseFloat(g))}else{e.set_initial_position(c(this))}})}}}(jQuery,window,window.document));